<!--
 - Created by Piotr Kucia on 30.07.2018.
 -->

<aura:component description="A18_AssetTrackerHeader" controller="A18_AC_AssetController" implements="forceCommunity:availableForAllPageTypes,force:appHostable">
    <aura:attribute name="userWrapper" type="Map" default="{'userType': '',
                                                            'user': null}"/>

    <aura:handler name="init" value="{!this}" action="{!c.init}" />
    <aura:handler name="change" value="{!v.userWrapper}" action="{!c.handleUserWrapperChange}" />
    <aura:registerEvent name="userEvent" type="c:A18_AssetTrackerUserInfoEvent"/>

    <div class="slds-grid slds-gutters slds-align_absolute-center">
        <div class="slds-col">
            <a href="../s"><img src="{!$Resource.logo}" /></a>
        </div>
        <div class="slds-col">
            <p class="slds-text-heading--medium"><a href="https://pkucia-developer-edition.eu10.force.com/AssetTrackerCommunity">Home</a></p>
        </div>
        <div class="slds-col">
            <p class="slds-text-heading--medium"><a href="https://pkucia-developer-edition.eu10.force.com/AssetTrackerCommunity/s/my-assets">My Assets</a></p>
        </div>
        <aura:if isTrue="{!(v.userWrapper.userType == 'Asset Coordinator' || v.userWrapper.userType == 'Asset Admin')}">
            <div class="slds-col">
                <p class="slds-text-heading--medium"><a href="https://pkucia-developer-edition.eu10.force.com/AssetTrackerCommunity/s/assets">Assets</a></p>
            </div>

            <div class="slds-col">
                <p class="slds-text-heading--medium"><a href="https://pkucia-developer-edition.eu10.force.com/AssetTrackerCommunity/s/assets-to-users">Assets To Users</a></p>
            </div>

            <div class="slds-col">
                <p class="slds-text-heading--medium"><a href="https://pkucia-developer-edition.eu10.force.com/AssetTrackerCommunity/s/requests">Requests</a></p>
            </div>
        </aura:if>

        <div class="slds-col">
            <ui:menu>
                <ui:menuTriggerLink class="slds-text-heading--medium" aura:id="trigger">Options</ui:menuTriggerLink>
                <ui:menuList class="actionMenu" aura:id="actionMenu">
                    <ui:actionMenuItem aura:id="item1" label="Go to Salesforce" click="{!c.goToSalesforce}"/>
                    <ui:actionMenuItem aura:id="item2" label="Go to PolSource website" click="{!c.goToPolsource}"/>
                    <ui:actionMenuItem aura:id="item3" label="Log Out" click="{!c.logOut}"/>
                </ui:menuList>
            </ui:menu>
        </div>
        <div class="slds-col">
            <c:A18_AssetTrackerUserInfo user="{!v.userWrapper.user}" userType="{!v.userWrapper.userType}"/>
        </div>
    </div>

</aura:component>
